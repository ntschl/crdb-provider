terraform {
  required_providers {
    cockroachgke = {
      source  = "terraform.local/local/cockroachgke"
      version = "1.0.0"
    }
  }
}

provider "cockroachgke" {
  host     = "punchy-warthog-3928.g8z.cockroachlabs.cloud"
  username = "nate"
  password = "2pJmQ5pl0fD3-EVWob9UwA"
  certpath = ""
}

resource "cockroachgke_database" "nate_db" {
  name = "nate_db"
}

resource "cockroachgke_changefeed" "nate_db" {
  table = "names"
  bucket = "nate-test-cockroach-changefeed-labs-devices-np"
  token = "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAibHMtZGV2eC1pbnQtbnAtZTdkMyIsCiAgInByaXZhdGVfa2V5X2lkIjogIjkxOGY1MzZiMzA0NzJmZmEyMjhmYmYxNGM5OGFjYjdhMzk3NTc3NGUiLAogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV1d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktVd2dnU2hBZ0VBQW9JQkFRREYyaGJCUWNmQVhQWXZcblY3T1NwY2NkQkhHczJVS2xpNjYxN014STBVWFVXaGxLaUJBc1NsSGtXa0VkdWtVYjFMVzE0bnYzbTFjSEx4K3Jcbkp0WmJLeERWemlEc1E1bm9mMVEzcVBSaE9NUjFpcXJ5bnNCTGJLbmdEZm1DRWZITjJiTEVtVW42Q3hIRE01OTRcbk9LdmJnbzRGdnl1bVIyMFpKV1lxRE9tUmxzeUtIeUZUYW16YW5KajlTcThyTk04UUZKVDhBd3A3TWtpWFRtUUdcbmlMVnhoZWlHQUdGcFNXL1ByZW4zYlZUK0o1Q0lUcmw0WnFWUmxmZEd6SGtuQ1NnK2htRHlXSjhLUFZSd2dISGtcbjZPL3VYYnYvSldMamNWajh1T3lEZ3Z6dVkrRmVNMEtSR1ZIYmpzbzl4Q0FlQXkzVTkwV21Bei84b09lZU5mbGZcbklMbGl2TktsQWdNQkFBRUNnZjhuVGdlQVhQNi9nVzhkcjNNaHJ2SGZaQ2N4Q3RPZ1dMSEtUZExaeVFKZmRtSWlcbkl5N0tML21DaUd1THhYVmk3WEVyMVlsZFhoRVFnTjViL1ZzcWVEOHBGY29HM0l1MnlRS0VWVlZic2V0VmJuLzFcbklMa1MxUlhGdGlXUitwRHFWQXdMQW1qVWFEbjZqV3RwNUdxSTUva0Z2WWJ1WFBrR1R2bjh6a3E4NnFZQXloMjlcbnpnQ0ZONlEzcG1rUzZ0MEVLZjdaMkJaNGxNYXZyYkxnSzE4dkpuNUM4ZDdoTXI1YzkzejNzUnhQVHFTVTRnVXVcbkw3SVRSTmVRQXozeWp3WmlYQkdHd241TnlXcUtIZHVOS1hSeVV6S0lvT2d2bXFPdVhYU2ZTTFRzOUFSZDdIOWZcbmFXVHJVckYyRk9aYnJvSFRmTnRsVi9NU0FTam1kaVpiKzFqNHNsRUNnWUVBOXVuM2FUelF6ZXpTbkpjVFJWMUVcbkh6RW4wVWtTVS8zd3hkWHhEV0Vkc3owMjFDaG45MFJjRUtETnhUcHZYK2NIcXB0di90TjJ4REp5bUJ1MVMxK1hcblB2TGR3bC9pN0ZQZnVqeWFWeVpSeWI3dHkxL0FOaHZibkVTbmdmdVlSQkdQSk1xSXNiakJHNGN2UnJxVERUNjBcblZhUTd4czYxR1Q2NHFoMXlHNXplQTFjQ2dZRUF6U0h2L2FwYXpIaTFvYUdVNlBRZFdEdlg3N01TZkpuMElTY3dcblRHV0NTQkNtWHEwZVZWdmcrcjlzMU1vKzVtZENseXgyamlvcVp2dnA5dEZkV1pBTjdzdlpyd3E5blI3NncyVlZcbkNYNWVSeGpTMjFNWTJOQk5oajRDMEM5NU5OdFNHaUF3dUZ1WSswNEJ4ZXFVQ3AxNmR4Q1cva2w2ZDlkVUVaaS9cbjZZTjl1R01DZ1lCOFE5M3ZpZHJ3ZUdxNndsSEJqQ0hYck82RUpzbGhtaUVPQUJFMEVaZFgrTXZhVkllV2EwSUdcbllGZVBGa3l0TUdHc1hGUXVKSkRXUnlsaklqYkl1MUFzTHlDcVRZV3dPTG9WU2FESGtaS0IvV1JDQVd1RUQ5c2pcbnQyMnlQa1F3cGNHcjIzNldLd3lNNVNsRzZHbFB0aW9lRyt5MXJweDRHeGZuRGJDNjh1VE5Pd0tCZ1FDYVBkQjBcbmppbGo0Y2ZBMXZ4ZkJWOGpQeXdvNGg4ZWJheHhXVVFwelpIZW1oWmV6aEVtNGNVVEJlalJQNWw0S1dDYXh5WUZcbjA1SzZpT1R0WDVPdmltL1BoSndUMENHdkNPSkpGZUtSRnVIUTE4dUVlc0VPRmVLVTgvK3RobVMrNThLZVBtSWpcbjNVdjBlajAvRWhscXVlcWhxR25Bbm9ObHBSVmpmZFdmd2UxQVBRS0JnR01RRW5nRCs0UXhhR1YzWU8zakc5QlpcbjQwOFd3YytUZ0hvci9aRlhwajFOa0VDRjJOem9aRUQ5YWtrNU9qOTRwaTF5SUE4aGcxZ2Z0WERIc3NEOUs3VUpcbldVclJLOWlZRTdwcExVaTR3SWlYZVA0a1piTndKanVCK2VBNURsMnBzQnVrU2w0K2ltc3hGdFQvVnVxSXNRM2pcbnp6byt1SFRJU280SXQxdk9jUzYrXG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLAogICJjbGllbnRfZW1haWwiOiAiY3JkYi1jaGFuZ2VmZWVkQGxzLWRldngtaW50LW5wLWU3ZDMuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTA4MDEzMzU1MzAwODUyNTgyNzgyIiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9jcmRiLWNoYW5nZWZlZWQlNDBscy1kZXZ4LWludC1ucC1lN2QzLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAidW5pdmVyc2VfZG9tYWluIjogImdvb2dsZWFwaXMuY29tIgp9Cg=="
  database = cockroachgke_database.nate_db.name
}
